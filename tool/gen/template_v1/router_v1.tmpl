package {{.Domain}}

import (
    "{{.Module}}/internal/common/middleware/auth"
    "{{.Module}}/internal/{{.Domain}}/handler"
	"github.com/gin-gonic/gin"
)

func RegisterV1(r *gin.RouterGroup, handler *handler.HttpHandler) func() {
	g := r.Group("/v1/{{.Domain}}")
	{
		g.GET("/:id",handler.Read)
		g.GET("", handler.List)
	}

    protect := g.Use(auth.JWTValidate())
    {
        protect.POST("", handler.Create)
        protect.DELETE("/:id", handler.Delete)
        protect.PUT("/:id", handler.Update)
    }
	return nil
}
